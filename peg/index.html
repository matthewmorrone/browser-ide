<!DOCTYPE html>
<!-- saved from url=(0028)http://pegjs.majda.cz/online -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="author" content="David Majda (david@majda.cz)">
    <meta name="copyright" content="Copyright © 2010–2013 David Majda">
    <meta name="keywords" content="parser generator, PEG, JavaScript">
    <meta name="description" content="PEG.js is a parser generator for JavaScript based on the parsing expression grammar formalism.">
    <title>Online version » PEG.js – Parser Generator for JavaScript</title>
    <link rel="stylesheet" href="http://pegjs.majda.cz/css/common.css">
    <link rel="stylesheet" href="http://pegjs.majda.cz/css/layout-online.css">
    <link rel="stylesheet" href="http://pegjs.majda.cz/css/content.css">
    <link rel="shortcut icon" href="http://pegjs.majda.cz/favicon.ico" type="image/x-icon">
    <!--[if IE]>
    <script>
      var html5elements = ["aside", "footer", "header", "nav"];
      for (var i = 0; i < html5elements.length; i++) {
        document.createElement(html5elements[i]);
      }
    </script>
    <![endif]-->
  <style type="text/css"></style></head>
  <body>
    <header id="header">
      <h1><a href="http://pegjs.majda.cz/">PEG.js</a></h1>
      <h2>Parser Generator for JavaScript</h2>
    </header>
    <nav id="menu">
      <a href="http://pegjs.majda.cz/">Home</a>
      <a class="current" href="peg.html">Online Version</a>
      <a href="http://pegjs.majda.cz/documentation">Documentation</a>
      <a href="http://pegjs.majda.cz/development">Development</a>
    </nav>

    <div id="loader" style="display: none;">
      <div id="loader-inner">Loading...</div>
    </div>

    <div id="content" style="display: block;">
      <table id="columns">
  <tbody><tr>
    <td>
      <table class="column" id="left-column">
        <tbody><tr>
          <td class="content-height">
            <h2 class="suggestion top">
              <span class="step-number">1</span>
              <div class="step-title">Write your PEG.js grammar</div>
            </h2>
          </td>
        </tr>
        <tr>
          <td style="">
            <div class="textarea-wrapper">
              <textarea class="code" id="grammar" style="height: 393px;">/*
 * Classic example grammar, which recognizes simple arithmetic expressions like
 * "2*(3+4)". The parser generated from this grammar then computes their value.
 */

start
  = additive

additive
  = left:multiplicative "+" right:additive { return left + right; }
  / multiplicative

multiplicative
  = left:primary "*" right:multiplicative { return left * right; }
  / primary

primary
  = integer
  / "(" additive:additive ")" { return additive; }

integer "integer"
  = digits:[0-9]+ { return parseInt(digits.join(""), 10); }</textarea>
              <div class="tooltip" style="top: 31px; left: 320px; opacity: 0.8; display: none;">
                <div class="content">The parser will be generated automatically as you type.</div>
                <div class="arrow"></div>
              </div>
            </div>
          </td>
        </tr>
        <tr>
          <td class="content-height">
            <div id="build-message" class="message info">Parser built successfully.<span class="size-and-time" title="Parser build time and speed">0.52&nbsp;kB, 57&nbsp;ms, 9.1&nbsp;kB/s</span></div>
          </td>
        </tr>
      </tbody></table>
    </td>
    <td>
      <table class="column" id="right-column">
        <tbody><tr>
          <td class="content-height">
            <h2 class="suggestion top">
              <span class="step-number">2</span>
              <div class="step-title">Test the generated parser with some input</div>
            </h2>
          </td>
        </tr>
        <tr>
          <td style="">
            <div class="textarea-wrapper">
              <textarea class="code" id="input" style="height: 143px;">2*(3+4)</textarea>
              <div class="tooltip">
                <div class="content">The input will be processed by the parser automatically as you type.</div>
                <div class="arrow"></div>
              </div>
            </div>
          </td>
        </tr>
        <tr>
          <td class="content-height">
            <div id="parse-message" class="message info">Input parsed successfully.<span class="size-and-time" title="Parsing time and speed">0.0068&nbsp;kB, 3&nbsp;ms, 2.3&nbsp;kB/s</span></div>
          </td>
        </tr>
        <tr>
          <td class="content-height">
            <h2 id="output-header">Output</h2>
            <pre id="output" class="">14</pre>
          </td>
        </tr>
        <tr>
          <td class="content-height">
            <h2 class="suggestion">
              <span class="step-number">3</span>
              <div class="step-title">Download the parser code</div>
            </h2>
          </td>
        </tr>
        <tr>
          <td class="content-height">
            <a id="parser-download" class="" href="data:text/plain;charset=utf-8;base64,bW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKSB7CiAgLyoKICAgKiBHZW5lcmF0ZWQgYnkgUEVHLmpzIDAuOC4wLgogICAqCiAgICogaHR0cDovL3BlZ2pzLm1hamRhLmN6LwogICAqLwoKICBmdW5jdGlvbiBwZWckc3ViY2xhc3MoY2hpbGQsIHBhcmVudCkgewogICAgZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9CiAgICBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7CiAgICBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOwogIH0KCiAgZnVuY3Rpb24gU3ludGF4RXJyb3IobWVzc2FnZSwgZXhwZWN0ZWQsIGZvdW5kLCBvZmZzZXQsIGxpbmUsIGNvbHVtbikgewogICAgdGhpcy5tZXNzYWdlICA9IG1lc3NhZ2U7CiAgICB0aGlzLmV4cGVjdGVkID0gZXhwZWN0ZWQ7CiAgICB0aGlzLmZvdW5kICAgID0gZm91bmQ7CiAgICB0aGlzLm9mZnNldCAgID0gb2Zmc2V0OwogICAgdGhpcy5saW5lICAgICA9IGxpbmU7CiAgICB0aGlzLmNvbHVtbiAgID0gY29sdW1uOwoKICAgIHRoaXMubmFtZSAgICAgPSAiU3ludGF4RXJyb3IiOwogIH0KCiAgcGVnJHN1YmNsYXNzKFN5bnRheEVycm9yLCBFcnJvcik7CgogIGZ1bmN0aW9uIHBhcnNlKGlucHV0KSB7CiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDoge30sCgogICAgICAgIHBlZyRGQUlMRUQgPSB7fSwKCiAgICAgICAgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9ucyA9IHsgc3RhcnQ6IHBlZyRwYXJzZXN0YXJ0IH0sCiAgICAgICAgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uICA9IHBlZyRwYXJzZXN0YXJ0LAoKICAgICAgICBwZWckYzAgPSBwZWckRkFJTEVELAogICAgICAgIHBlZyRjMSA9ICIrIiwKICAgICAgICBwZWckYzIgPSB7IHR5cGU6ICJsaXRlcmFsIiwgdmFsdWU6ICIrIiwgZGVzY3JpcHRpb246ICJcIitcIiIgfSwKICAgICAgICBwZWckYzMgPSBmdW5jdGlvbihsZWZ0LCByaWdodCkgeyByZXR1cm4gbGVmdCArIHJpZ2h0OyB9LAogICAgICAgIHBlZyRjNCA9ICIqIiwKICAgICAgICBwZWckYzUgPSB7IHR5cGU6ICJsaXRlcmFsIiwgdmFsdWU6ICIqIiwgZGVzY3JpcHRpb246ICJcIipcIiIgfSwKICAgICAgICBwZWckYzYgPSBmdW5jdGlvbihsZWZ0LCByaWdodCkgeyByZXR1cm4gbGVmdCAqIHJpZ2h0OyB9LAogICAgICAgIHBlZyRjNyA9ICIoIiwKICAgICAgICBwZWckYzggPSB7IHR5cGU6ICJsaXRlcmFsIiwgdmFsdWU6ICIoIiwgZGVzY3JpcHRpb246ICJcIihcIiIgfSwKICAgICAgICBwZWckYzkgPSAiKSIsCiAgICAgICAgcGVnJGMxMCA9IHsgdHlwZTogImxpdGVyYWwiLCB2YWx1ZTogIikiLCBkZXNjcmlwdGlvbjogIlwiKVwiIiB9LAogICAgICAgIHBlZyRjMTEgPSBmdW5jdGlvbihhZGRpdGl2ZSkgeyByZXR1cm4gYWRkaXRpdmU7IH0sCiAgICAgICAgcGVnJGMxMiA9IHsgdHlwZTogIm90aGVyIiwgZGVzY3JpcHRpb246ICJpbnRlZ2VyIiB9LAogICAgICAgIHBlZyRjMTMgPSBbXSwKICAgICAgICBwZWckYzE0ID0gL15bMC05XS8sCiAgICAgICAgcGVnJGMxNSA9IHsgdHlwZTogImNsYXNzIiwgdmFsdWU6ICJbMC05XSIsIGRlc2NyaXB0aW9uOiAiWzAtOV0iIH0sCiAgICAgICAgcGVnJGMxNiA9IGZ1bmN0aW9uKGRpZ2l0cykgeyByZXR1cm4gcGFyc2VJbnQoZGlnaXRzLmpvaW4oIiIpLCAxMCk7IH0sCgogICAgICAgIHBlZyRjdXJyUG9zICAgICAgICAgID0gMCwKICAgICAgICBwZWckcmVwb3J0ZWRQb3MgICAgICA9IDAsCiAgICAgICAgcGVnJGNhY2hlZFBvcyAgICAgICAgPSAwLAogICAgICAgIHBlZyRjYWNoZWRQb3NEZXRhaWxzID0geyBsaW5lOiAxLCBjb2x1bW46IDEsIHNlZW5DUjogZmFsc2UgfSwKICAgICAgICBwZWckbWF4RmFpbFBvcyAgICAgICA9IDAsCiAgICAgICAgcGVnJG1heEZhaWxFeHBlY3RlZCAgPSBbXSwKICAgICAgICBwZWckc2lsZW50RmFpbHMgICAgICA9IDAsCgogICAgICAgIHBlZyRyZXN1bHQ7CgogICAgaWYgKCJzdGFydFJ1bGUiIGluIG9wdGlvbnMpIHsKICAgICAgaWYgKCEob3B0aW9ucy5zdGFydFJ1bGUgaW4gcGVnJHN0YXJ0UnVsZUZ1bmN0aW9ucykpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkNhbid0IHN0YXJ0IHBhcnNpbmcgZnJvbSBydWxlIFwiIiArIG9wdGlvbnMuc3RhcnRSdWxlICsgIlwiLiIpOwogICAgICB9CgogICAgICBwZWckc3RhcnRSdWxlRnVuY3Rpb24gPSBwZWckc3RhcnRSdWxlRnVuY3Rpb25zW29wdGlvbnMuc3RhcnRSdWxlXTsKICAgIH0KCiAgICBmdW5jdGlvbiB0ZXh0KCkgewogICAgICByZXR1cm4gaW5wdXQuc3Vic3RyaW5nKHBlZyRyZXBvcnRlZFBvcywgcGVnJGN1cnJQb3MpOwogICAgfQoKICAgIGZ1bmN0aW9uIG9mZnNldCgpIHsKICAgICAgcmV0dXJuIHBlZyRyZXBvcnRlZFBvczsKICAgIH0KCiAgICBmdW5jdGlvbiBsaW5lKCkgewogICAgICByZXR1cm4gcGVnJGNvbXB1dGVQb3NEZXRhaWxzKHBlZyRyZXBvcnRlZFBvcykubGluZTsKICAgIH0KCiAgICBmdW5jdGlvbiBjb2x1bW4oKSB7CiAgICAgIHJldHVybiBwZWckY29tcHV0ZVBvc0RldGFpbHMocGVnJHJlcG9ydGVkUG9zKS5jb2x1bW47CiAgICB9CgogICAgZnVuY3Rpb24gZXhwZWN0ZWQoZGVzY3JpcHRpb24pIHsKICAgICAgdGhyb3cgcGVnJGJ1aWxkRXhjZXB0aW9uKAogICAgICAgIG51bGwsCiAgICAgICAgW3sgdHlwZTogIm90aGVyIiwgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uIH1dLAogICAgICAgIHBlZyRyZXBvcnRlZFBvcwogICAgICApOwogICAgfQoKICAgIGZ1bmN0aW9uIGVycm9yKG1lc3NhZ2UpIHsKICAgICAgdGhyb3cgcGVnJGJ1aWxkRXhjZXB0aW9uKG1lc3NhZ2UsIG51bGwsIHBlZyRyZXBvcnRlZFBvcyk7CiAgICB9CgogICAgZnVuY3Rpb24gcGVnJGNvbXB1dGVQb3NEZXRhaWxzKHBvcykgewogICAgICBmdW5jdGlvbiBhZHZhbmNlKGRldGFpbHMsIHN0YXJ0UG9zLCBlbmRQb3MpIHsKICAgICAgICB2YXIgcCwgY2g7CgogICAgICAgIGZvciAocCA9IHN0YXJ0UG9zOyBwIDwgZW5kUG9zOyBwKyspIHsKICAgICAgICAgIGNoID0gaW5wdXQuY2hhckF0KHApOwogICAgICAgICAgaWYgKGNoID09PSAiXG4iKSB7CiAgICAgICAgICAgIGlmICghZGV0YWlscy5zZWVuQ1IpIHsgZGV0YWlscy5saW5lKys7IH0KICAgICAgICAgICAgZGV0YWlscy5jb2x1bW4gPSAxOwogICAgICAgICAgICBkZXRhaWxzLnNlZW5DUiA9IGZhbHNlOwogICAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gIlxyIiB8fCBjaCA9PT0gIlx1MjAyOCIgfHwgY2ggPT09ICJcdTIwMjkiKSB7CiAgICAgICAgICAgIGRldGFpbHMubGluZSsrOwogICAgICAgICAgICBkZXRhaWxzLmNvbHVtbiA9IDE7CiAgICAgICAgICAgIGRldGFpbHMuc2VlbkNSID0gdHJ1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRldGFpbHMuY29sdW1uKys7CiAgICAgICAgICAgIGRldGFpbHMuc2VlbkNSID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAocGVnJGNhY2hlZFBvcyAhPT0gcG9zKSB7CiAgICAgICAgaWYgKHBlZyRjYWNoZWRQb3MgPiBwb3MpIHsKICAgICAgICAgIHBlZyRjYWNoZWRQb3MgPSAwOwogICAgICAgICAgcGVnJGNhY2hlZFBvc0RldGFpbHMgPSB7IGxpbmU6IDEsIGNvbHVtbjogMSwgc2VlbkNSOiBmYWxzZSB9OwogICAgICAgIH0KICAgICAgICBhZHZhbmNlKHBlZyRjYWNoZWRQb3NEZXRhaWxzLCBwZWckY2FjaGVkUG9zLCBwb3MpOwogICAgICAgIHBlZyRjYWNoZWRQb3MgPSBwb3M7CiAgICAgIH0KCiAgICAgIHJldHVybiBwZWckY2FjaGVkUG9zRGV0YWlsczsKICAgIH0KCiAgICBmdW5jdGlvbiBwZWckZmFpbChleHBlY3RlZCkgewogICAgICBpZiAocGVnJGN1cnJQb3MgPCBwZWckbWF4RmFpbFBvcykgeyByZXR1cm47IH0KCiAgICAgIGlmIChwZWckY3VyclBvcyA+IHBlZyRtYXhGYWlsUG9zKSB7CiAgICAgICAgcGVnJG1heEZhaWxQb3MgPSBwZWckY3VyclBvczsKICAgICAgICBwZWckbWF4RmFpbEV4cGVjdGVkID0gW107CiAgICAgIH0KCiAgICAgIHBlZyRtYXhGYWlsRXhwZWN0ZWQucHVzaChleHBlY3RlZCk7CiAgICB9CgogICAgZnVuY3Rpb24gcGVnJGJ1aWxkRXhjZXB0aW9uKG1lc3NhZ2UsIGV4cGVjdGVkLCBwb3MpIHsKICAgICAgZnVuY3Rpb24gY2xlYW51cEV4cGVjdGVkKGV4cGVjdGVkKSB7CiAgICAgICAgdmFyIGkgPSAxOwoKICAgICAgICBleHBlY3RlZC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsKICAgICAgICAgIGlmIChhLmRlc2NyaXB0aW9uIDwgYi5kZXNjcmlwdGlvbikgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICB9IGVsc2UgaWYgKGEuZGVzY3JpcHRpb24gPiBiLmRlc2NyaXB0aW9uKSB7CiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIHdoaWxlIChpIDwgZXhwZWN0ZWQubGVuZ3RoKSB7CiAgICAgICAgICBpZiAoZXhwZWN0ZWRbaSAtIDFdID09PSBleHBlY3RlZFtpXSkgewogICAgICAgICAgICBleHBlY3RlZC5zcGxpY2UoaSwgMSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpKys7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiBidWlsZE1lc3NhZ2UoZXhwZWN0ZWQsIGZvdW5kKSB7CiAgICAgICAgZnVuY3Rpb24gc3RyaW5nRXNjYXBlKHMpIHsKICAgICAgICAgIGZ1bmN0aW9uIGhleChjaCkgeyByZXR1cm4gY2guY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTsgfQoKICAgICAgICAgIHJldHVybiBzCiAgICAgICAgICAgIC5yZXBsYWNlKC9cXC9nLCAgICdcXFxcJykKICAgICAgICAgICAgLnJlcGxhY2UoLyIvZywgICAgJ1xcIicpCiAgICAgICAgICAgIC5yZXBsYWNlKC9ceDA4L2csICdcXGInKQogICAgICAgICAgICAucmVwbGFjZSgvXHQvZywgICAnXFx0JykKICAgICAgICAgICAgLnJlcGxhY2UoL1xuL2csICAgJ1xcbicpCiAgICAgICAgICAgIC5yZXBsYWNlKC9cZi9nLCAgICdcXGYnKQogICAgICAgICAgICAucmVwbGFjZSgvXHIvZywgICAnXFxyJykKICAgICAgICAgICAgLnJlcGxhY2UoL1tceDAwLVx4MDdceDBCXHgwRVx4MEZdL2csIGZ1bmN0aW9uKGNoKSB7IHJldHVybiAnXFx4MCcgKyBoZXgoY2gpOyB9KQogICAgICAgICAgICAucmVwbGFjZSgvW1x4MTAtXHgxRlx4ODAtXHhGRl0vZywgICAgZnVuY3Rpb24oY2gpIHsgcmV0dXJuICdcXHgnICArIGhleChjaCk7IH0pCiAgICAgICAgICAgIC5yZXBsYWNlKC9bXHUwMTgwLVx1MEZGRl0vZywgICAgICAgICBmdW5jdGlvbihjaCkgeyByZXR1cm4gJ1xcdTAnICsgaGV4KGNoKTsgfSkKICAgICAgICAgICAgLnJlcGxhY2UoL1tcdTEwODAtXHVGRkZGXS9nLCAgICAgICAgIGZ1bmN0aW9uKGNoKSB7IHJldHVybiAnXFx1JyAgKyBoZXgoY2gpOyB9KTsKICAgICAgICB9CgogICAgICAgIHZhciBleHBlY3RlZERlc2NzID0gbmV3IEFycmF5KGV4cGVjdGVkLmxlbmd0aCksCiAgICAgICAgICAgIGV4cGVjdGVkRGVzYywgZm91bmREZXNjLCBpOwoKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZXhwZWN0ZWQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGV4cGVjdGVkRGVzY3NbaV0gPSBleHBlY3RlZFtpXS5kZXNjcmlwdGlvbjsKICAgICAgICB9CgogICAgICAgIGV4cGVjdGVkRGVzYyA9IGV4cGVjdGVkLmxlbmd0aCA+IDEKICAgICAgICAgID8gZXhwZWN0ZWREZXNjcy5zbGljZSgwLCAtMSkuam9pbigiLCAiKQogICAgICAgICAgICAgICsgIiBvciAiCiAgICAgICAgICAgICAgKyBleHBlY3RlZERlc2NzW2V4cGVjdGVkLmxlbmd0aCAtIDFdCiAgICAgICAgICA6IGV4cGVjdGVkRGVzY3NbMF07CgogICAgICAgIGZvdW5kRGVzYyA9IGZvdW5kID8gIlwiIiArIHN0cmluZ0VzY2FwZShmb3VuZCkgKyAiXCIiIDogImVuZCBvZiBpbnB1dCI7CgogICAgICAgIHJldHVybiAiRXhwZWN0ZWQgIiArIGV4cGVjdGVkRGVzYyArICIgYnV0ICIgKyBmb3VuZERlc2MgKyAiIGZvdW5kLiI7CiAgICAgIH0KCiAgICAgIHZhciBwb3NEZXRhaWxzID0gcGVnJGNvbXB1dGVQb3NEZXRhaWxzKHBvcyksCiAgICAgICAgICBmb3VuZCAgICAgID0gcG9zIDwgaW5wdXQubGVuZ3RoID8gaW5wdXQuY2hhckF0KHBvcykgOiBudWxsOwoKICAgICAgaWYgKGV4cGVjdGVkICE9PSBudWxsKSB7CiAgICAgICAgY2xlYW51cEV4cGVjdGVkKGV4cGVjdGVkKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG5ldyBTeW50YXhFcnJvcigKICAgICAgICBtZXNzYWdlICE9PSBudWxsID8gbWVzc2FnZSA6IGJ1aWxkTWVzc2FnZShleHBlY3RlZCwgZm91bmQpLAogICAgICAgIGV4cGVjdGVkLAogICAgICAgIGZvdW5kLAogICAgICAgIHBvcywKICAgICAgICBwb3NEZXRhaWxzLmxpbmUsCiAgICAgICAgcG9zRGV0YWlscy5jb2x1bW4KICAgICAgKTsKICAgIH0KCiAgICBmdW5jdGlvbiBwZWckcGFyc2VzdGFydCgpIHsKICAgICAgdmFyIHMwOwoKICAgICAgczAgPSBwZWckcGFyc2VhZGRpdGl2ZSgpOwoKICAgICAgcmV0dXJuIHMwOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWFkZGl0aXZlKCkgewogICAgICB2YXIgczAsIHMxLCBzMiwgczM7CgogICAgICBzMCA9IHBlZyRjdXJyUG9zOwogICAgICBzMSA9IHBlZyRwYXJzZW11bHRpcGxpY2F0aXZlKCk7CiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDMpIHsKICAgICAgICAgIHMyID0gcGVnJGMxOwogICAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgczIgPSBwZWckRkFJTEVEOwogICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIpOyB9CiAgICAgICAgfQogICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgczMgPSBwZWckcGFyc2VhZGRpdGl2ZSgpOwogICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIHBlZyRyZXBvcnRlZFBvcyA9IHMwOwogICAgICAgICAgICBzMSA9IHBlZyRjMyhzMSwgczMpOwogICAgICAgICAgICBzMCA9IHMxOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgczAgPSBwZWckYzA7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICBzMCA9IHBlZyRjMDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICBzMCA9IHBlZyRjMDsKICAgICAgfQogICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICBzMCA9IHBlZyRwYXJzZW11bHRpcGxpY2F0aXZlKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzMDsKICAgIH0KCiAgICBmdW5jdGlvbiBwZWckcGFyc2VtdWx0aXBsaWNhdGl2ZSgpIHsKICAgICAgdmFyIHMwLCBzMSwgczIsIHMzOwoKICAgICAgczAgPSBwZWckY3VyclBvczsKICAgICAgczEgPSBwZWckcGFyc2VwcmltYXJ5KCk7CiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDIpIHsKICAgICAgICAgIHMyID0gcGVnJGM0OwogICAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgczIgPSBwZWckRkFJTEVEOwogICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzUpOyB9CiAgICAgICAgfQogICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgczMgPSBwZWckcGFyc2VtdWx0aXBsaWNhdGl2ZSgpOwogICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIHBlZyRyZXBvcnRlZFBvcyA9IHMwOwogICAgICAgICAgICBzMSA9IHBlZyRjNihzMSwgczMpOwogICAgICAgICAgICBzMCA9IHMxOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgczAgPSBwZWckYzA7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICBzMCA9IHBlZyRjMDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICBzMCA9IHBlZyRjMDsKICAgICAgfQogICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICBzMCA9IHBlZyRwYXJzZXByaW1hcnkoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHMwOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZXByaW1hcnkoKSB7CiAgICAgIHZhciBzMCwgczEsIHMyLCBzMzsKCiAgICAgIHMwID0gcGVnJHBhcnNlaW50ZWdlcigpOwogICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICBzMCA9IHBlZyRjdXJyUG9zOwogICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHsKICAgICAgICAgIHMxID0gcGVnJGM3OwogICAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgczEgPSBwZWckRkFJTEVEOwogICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzgpOyB9CiAgICAgICAgfQogICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgczIgPSBwZWckcGFyc2VhZGRpdGl2ZSgpOwogICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHsKICAgICAgICAgICAgICBzMyA9IHBlZyRjOTsKICAgICAgICAgICAgICBwZWckY3VyclBvcysrOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDsKICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTApOyB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgcGVnJHJlcG9ydGVkUG9zID0gczA7CiAgICAgICAgICAgICAgczEgPSBwZWckYzExKHMyKTsKICAgICAgICAgICAgICBzMCA9IHMxOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgICAgczAgPSBwZWckYzA7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgIHMwID0gcGVnJGMwOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgczAgPSBwZWckYzA7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gczA7CiAgICB9CgogICAgZnVuY3Rpb24gcGVnJHBhcnNlaW50ZWdlcigpIHsKICAgICAgdmFyIHMwLCBzMSwgczI7CgogICAgICBwZWckc2lsZW50RmFpbHMrKzsKICAgICAgczAgPSBwZWckY3VyclBvczsKICAgICAgczEgPSBbXTsKICAgICAgaWYgKHBlZyRjMTQudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkgewogICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICBwZWckY3VyclBvcysrOwogICAgICB9IGVsc2UgewogICAgICAgIHMyID0gcGVnJEZBSUxFRDsKICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTUpOyB9CiAgICAgIH0KICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgd2hpbGUgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBzMS5wdXNoKHMyKTsKICAgICAgICAgIGlmIChwZWckYzE0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHsKICAgICAgICAgICAgczIgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpOwogICAgICAgICAgICBwZWckY3VyclBvcysrOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgczIgPSBwZWckRkFJTEVEOwogICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTUpOyB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHMxID0gcGVnJGMwOwogICAgICB9CiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgIHBlZyRyZXBvcnRlZFBvcyA9IHMwOwogICAgICAgIHMxID0gcGVnJGMxNihzMSk7CiAgICAgIH0KICAgICAgczAgPSBzMTsKICAgICAgcGVnJHNpbGVudEZhaWxzLS07CiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgIHMxID0gcGVnJEZBSUxFRDsKICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTIpOyB9CiAgICAgIH0KCiAgICAgIHJldHVybiBzMDsKICAgIH0KCiAgICBwZWckcmVzdWx0ID0gcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uKCk7CgogICAgaWYgKHBlZyRyZXN1bHQgIT09IHBlZyRGQUlMRUQgJiYgcGVnJGN1cnJQb3MgPT09IGlucHV0Lmxlbmd0aCkgewogICAgICByZXR1cm4gcGVnJHJlc3VsdDsKICAgIH0gZWxzZSB7CiAgICAgIGlmIChwZWckcmVzdWx0ICE9PSBwZWckRkFJTEVEICYmIHBlZyRjdXJyUG9zIDwgaW5wdXQubGVuZ3RoKSB7CiAgICAgICAgcGVnJGZhaWwoeyB0eXBlOiAiZW5kIiwgZGVzY3JpcHRpb246ICJlbmQgb2YgaW5wdXQiIH0pOwogICAgICB9CgogICAgICB0aHJvdyBwZWckYnVpbGRFeGNlcHRpb24obnVsbCwgcGVnJG1heEZhaWxFeHBlY3RlZCwgcGVnJG1heEZhaWxQb3MpOwogICAgfQogIH0KCiAgcmV0dXJuIHsKICAgIFN5bnRheEVycm9yOiBTeW50YXhFcnJvciwKICAgIHBhcnNlOiAgICAgICBwYXJzZQogIH07Cn0pKCk7Cg==">Download parser</a>
            <div id="settings">
              <label for="parser-var">Parser variable:</label>
              <input type="text" id="parser-var" value="module.exports">
              <div id="options">
                <input type="checkbox" id="option-cache">
                <label for="option-cache">Use results cache</label>
                <label for="option-optimize">Optimize:</label>
                <select id="option-optimize">
                  <option value="speed">Parsing speed</option>
                  <option value="size">Code size</option>
                </select>
              </div>
            </div>
          </td>
        </tr>
      </tbody></table>
    </td>
  </tr>
</tbody></table>

<script src="jquery.js"></script>
<script src="peg.js"></script>
<script src="webtoolkit.base64.js"></script>
<script src="jsDump.js"></script>
<script src="online.js"></script>

    </div>

    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script><script src="ga.js" type="text/javascript"></script>
    <script type="text/javascript">
      try {
      var pageTracker = _gat._getTracker("UA-878249-4");
      pageTracker._trackPageview();
      } catch(err) {}
    </script>


</body></html>
